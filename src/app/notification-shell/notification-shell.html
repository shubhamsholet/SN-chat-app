<!-- notification-shell.html -->
<app-header [title]="'Notifications'"  ></app-header>
<div style="padding: 2rem;">


<div class="notification-container">
  <!-- Header with actions -->
  <div class="notification-header">
    <h2>Notifications</h2>
    <div class="notification-actions" *ngIf="notifications.length > 0">
      <button 
        class="btn-mark-all-read" 
        (click)="markAllAsRead()"
        *ngIf="unreadCount > 0">
        Mark All Read
      </button>
      <button 
        class="btn-clear-all" 
        (click)="clearAllNotifications()">
        Clear All
      </button>
    </div>
  </div>

  <!-- Unread notifications count -->
  <div class="unread-count" *ngIf="unreadCount > 0">
    {{ unreadCount }} unread notification{{ unreadCount > 1 ? 's' : '' }}
  </div>

  <!-- Notifications list -->
  <div class="notifications-list">
    <!-- No notifications state -->
    <div class="no-notifications" *ngIf="notifications.length === 0">
      <div class="empty-state">
        <span class="icon">ðŸ””</span>
        <h3>No notifications yet</h3>
        <p>When you get notifications, they'll appear here</p>
      </div>
    </div>

    <!-- Unread notifications -->
    <div class="notification-section" *ngIf="unreadNotifications.length > 0">
      <h3 class="section-title">Unread</h3>
      <div class="notification-items">
        <div 
          *ngFor="let notification of unreadNotifications" 
          class="notification-item unread"
          (click)="markAsRead(notification)">
          
          <div class="notification-icon">
            {{ getNotificationIcon(notification.type) }}
          </div>
          
          <div class="notification-content" style="border: 1px solid ; margin-bottom: 1rem;">
            <div class="notification-header">
              <h4 class="notification-title">{{ notification.title }}</h4>
              <span class="notification-time">{{ formatTimestamp(notification.timestamp) }}</span>
            </div>
            <p class="notification-body">{{ notification.body }}</p>
            <div class="notification-meta">
              <span class="notification-type">{{ getNotificationTypeDisplay(notification.type) }}</span>
              <span class="unread-badge">Unread</span>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Read notifications -->
    <div class="notification-section" *ngIf="readNotifications.length > 0">
      <h3 class="section-title">Read</h3>
      <div class="notification-items">
        <div 
          *ngFor="let notification of readNotifications" 
          class="notification-item read">
          
          <div class="notification-icon">
            {{ getNotificationIcon(notification.type) }}
          </div>
          
          <div class="notification-content"  style="border: 1px solid red; margin-bottom: 1rem;">
            <div class="notification-header">
              <h4 class="notification-title">{{ notification.title }}</h4>
              <span class="notification-time">{{ formatTimestamp(notification.timestamp) }}</span>
            </div>
            <p class="notification-body">{{ notification.body }}</p>
            <div class="notification-meta">
              <span class="notification-type">{{ getNotificationTypeDisplay(notification.type) }}</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
</div>

<!-- 
// Manual notification creation
this.notificationService.addNotification({
  type: 'system',
  title: 'Welcome!',
  body: 'Welcome to our app!',
  metadata: { welcome: true }
});

this.notificationService.addNotification({
  type: 'friend_request',
  title: 'Friend Request',
  body: 'John Doe sent you a friend request',
  metadata: { requestId: '123' }
});
-->